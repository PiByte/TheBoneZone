var Engine;
var State;
var Inputmanager;

var Graphics = [];
var Player, Skull;

var MainMapOneData;

function preload()
{
    // load graphics into array

    Graphics[0] = loadImage("spritesheet.png");
    Graphics[1] = loadImage("skull.png");
    Graphics[2] = loadImage("thang.png");
    Graphics[3] = loadImage("lol.png");
    Graphics[4] = loadImage("basictiles.png");

    MainMapOneData = [25,25,4,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,65,11,11,11,11,13,13,11,11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,64,11,65,11,11,13,13,11,64,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,64,11,11,64,13,13,11,64,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,65,11,11,11,11,65,13,13,11,11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,64,11,11,11,11,13,13,65,65,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,64,11,65,13,13,11,11,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,64,11,11,11,64,11,13,13,13,11,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,65,11,11,11,11,13,13,13,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,64,11,11,11,64,11,65,11,13,13,10,10,10,10,10,10,10,10,10,10,10,10,11,11,65,11,65,11,11,11,65,11,11,12,13,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,64,11,11,11,12,12,12,13,10,10,10,10,10,10,10,10,10,10,10,10,11,65,64,11,11,11,11,65,11,12,12,12,13,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,64,65,12,12,12,12,12,13,10,10,10,10,10,10,10,10,10,10,10,11,11,64,11,11,11,11,11,12,12,12,12,12,12,10,10,10,10,10,10,10,10,10,10,10,11,11,64,65,11,11,11,11,12,12,12,12,12,12,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,64,11,65,12,12,12,12,12,12,12,10,10,10,10,10,10,10,10,10,10,10,11,11,11,65,12,12,12,12,12,12,12,12,12,12,10,10,10,10,10,10,10,10,10,10,10,11,65,11,11,12,12,12,12,12,12,12,12,12,12,10,10,10,10,10,10,10,10,10,10,10,11,64,11,11,12,12,12,12,12,12,12,12,12,12,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,12,12,12,12,12,12,12,12,12,12,10,10,10,10,10,10,10,10,10,10,10,64,11,65,11,12,12,12,12,12,12,12,12,12,12,10,10,10,10,10,10,10,10,10,10,10,11,11,11,12,12,12,12,12,12,12,12,12,12,12,10,10,10,10,10,10,10,10,10,10,10,11,64,64,12,12,12,12,12,12,12,12,12,12,12,10,10,10,10,10,10,10,10,10,10,10,11,12,12,12,12,12,12,12,12,12,12,12,12,12,10,10,10,10,10,10,10,10,10,10,10,11,12,12,12,12,12,12,12,12,12,12,12,12,12,82,82,82,82,82,82,82,82,82,82,82,82,82,82,18,82,82,82,76,77,83,29,37,82,82,82,58,82,82,82,82,82,82,82,58,82,82,82,82,18,20,82,82,82,83,83,37,37,77,82,82,82,82,82,82,82,82,82,82,82,82,82,82,19,82,82,82,82,82,82,82,37,29,20,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,18,82,82,77,20,76,82,29,37,82,20,82,82,82,82,58,82,82,82,82,82,82,82,19,82,82,82,82,46,82,82,82,37,29,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,18,82,20,82,82,82,82,82,37,29,82,77,82,82,82,82,82,82,82,82,82,82,82,82,82,18,82,82,82,57,82,82,82,37,29,37,82,82,82,82,82,58,82,82,82,82,82,82,82,18,82,18,82,82,82,82,82,20,82,37,29,37,82,82,82,82,82,82,82,82,82,82,82,19,18,82,82,82,82,20,77,82,82,82,82,37,37,82,82,82,82,82,82,82,82,58,82,82,82,82,20,82,82,82,82,82,82,82,82,77,82,29,82,82,82,82,82,82,82,82,82,82,82,19,18,82,82,76,82,82,82,20,82,82,82,82,37,82,82,82,82,82,82,82,82,82,82,82,19,18,82,82,82,76,82,82,82,82,82,82,82,29,82,82,58,82,82,82,82,82,82,19,82,82,82,82,20,82,82,82,82,82,82,82,82,82,29,82,82,82,82,82,82,82,82,82,82,82,82,18,82,82,77,82,20,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,18,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,58,82,82,82,82,82,19,18,82,82,82,82,76,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,58,82,82,82,18,82,20,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,19,82,82,77,82,82,82,82,82,82,82,82,82,82,82,82,58,82,82,82,82,82,82,82,82,19,18,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,19,82,82,82,77,20,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,18,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,19,82,20,82,82,82,82,82,82,82,82,82,82,82,82,82,82,58,82,82,58,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,19,82,18,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,19,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,93,94,94,95,82,82,82,82,82,82,82,36,82,82,82,82,82,82,82,82,82,82,82,82,82,101,102,102,103,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,55,82,109,110,110,111,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
}

function setup()
{
    Engine = new BoneZone(500, 500);
    State = new Statemanager();
    Inputmanager = new Input();

    MainMapOne = new Tilemap(MainMapOneData, Graphics[4], 16, 16);

    Player = new Sprite(0, 0, Graphics[0], "player", true, 16, 16, 1);
    Skull = new Sprite(200, 200, Graphics[1], "skull"); // this should appear in the preload of the gamestates in the future
    Thang = new Sprite(10, 10, Graphics[2], "thang");
    LOL = new Sprite(10, 10, Graphics[3], "LOL"); // will be ui object when the UI library is complete

    // adding game states to statemanager
    State.addState(new Menu());
    State.addState(new Game());

    State.changeState("menu");
}

function draw()
{
    Inputmanager.checkForInput();
    State.update();
}